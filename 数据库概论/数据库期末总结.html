<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; --title-bar-height:20px; }
.mac-os-11 { --title-bar-height:28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex:2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}



</style><title>数据库期末总结</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n2"><a class="md-toc-inner" href="#1数据库系统介绍">1.数据库系统介绍</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3"><a class="md-toc-inner" href="#11基础概念">1.1基础概念</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4"><a class="md-toc-inner" href="#1数据">1数据</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n8"><a class="md-toc-inner" href="#2数据库">2.数据库</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n11"><a class="md-toc-inner" href="#3数据库管理系统dbms">3.数据库管理系统DBMS</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n16"><a class="md-toc-inner" href="#dbms的功能">DBMS的功能</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n17"><a class="md-toc-inner" href="#1data-definition-languageddl）">1.Data definition language（DDL）</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n18"><a class="md-toc-inner" href="#2data-manipulation-language-dml">2.Data Manipulation Language (DML)</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n19"><a class="md-toc-inner" href="#3安全系统完整性系统并发控制系统恢复控制系统">3.安全系统、完整性系统、并发控制系统、恢复控制系统</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n20"><a class="md-toc-inner" href="#4数据库系统dbs">4.数据库系统DBS</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n24"><a class="md-toc-inner" href="#数据库系统历史">数据库系统历史</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n29"><a class="md-toc-inner" href="#12数据管理技术的发展历史">1.2数据管理技术的发展历史</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n31"><a class="md-toc-inner" href="#1manual-system-before-the-mid-1950s-">1.Manual System (before the mid-1950s )</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n34"><a class="md-toc-inner" href="#2traditional-file-based-system1950s-1960s">2.Traditional File-Based System(1950s-1960s)</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n39"><a class="md-toc-inner" href="#3database-system-after-the-mid-1960s-">3.Database System (after the mid-1960s )</a></span><span role="listitem" class="md-toc-item md-toc-h5" data-ref="n41"><a class="md-toc-inner" href="#1-data-structuring">(1) Data Structuring </a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n46"><a class="md-toc-inner" href="#13数据模型">1.3数据模型</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n47"><a class="md-toc-inner" href="#1定义">1.定义</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n50"><a class="md-toc-inner" href="#2数据模型的三个部分">2.数据模型的三个部分</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n52"><a class="md-toc-inner" href="#3两种数据类型">3.两种数据类型</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n57"><a class="md-toc-inner" href="#1概念建模">1.概念建模</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n59"><a class="md-toc-inner" href="#2逻辑建模">2.逻辑建模</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n61"><a class="md-toc-inner" href="#14数据库系统体系结构">1.4数据库系统体系结构</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n62"><a class="md-toc-inner" href="#1模式">1.模式</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n64"><a class="md-toc-inner" href="#2实例">2.实例</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n66"><a class="md-toc-inner" href="#3ansi-sparc-三层结构">3.ANSI-SPARC 三层结构</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n69"><a class="md-toc-inner" href="#1概念模式">1.概念模式</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n72"><a class="md-toc-inner" href="#2外模式">2.外模式</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n74"><a class="md-toc-inner" href="#3内模式">3.内模式</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n77"><a class="md-toc-inner" href="#15数据独立性">1.5数据独立性</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n79"><a class="md-toc-inner" href="#1两种类型">1.两种类型</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n82"><a class="md-toc-inner" href="#2逻辑数据独立性">2.逻辑数据独立性</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n86"><a class="md-toc-inner" href="#3物理数据独立性">3.物理数据独立性</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n92"><a class="md-toc-inner" href="#2关系数据模型">2.关系数据模型</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n93"><a class="md-toc-inner" href="#1关系数据模型">1.关系数据模型</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n95"><a class="md-toc-inner" href="#1术语">1.术语</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n104"><a class="md-toc-inner" href="#2关系模式">2.关系模式</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n109"><a class="md-toc-inner" href="#3relational-keys关键字）">3.Relational keys（关键字）</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n110"><a class="md-toc-inner" href="#superkey-超键）">Superkey （超键）</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n112"><a class="md-toc-inner" href="#candidate-key候选键）">Candidate Key（候选键）</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n114"><a class="md-toc-inner" href="#primary-key-pk主键主码-">Primary Key (PK，主键、主码 )</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n116"><a class="md-toc-inner" href="#alternate-keys-ak备用键-备用键">Alternate Keys (AK，备用键 备用键)</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n118"><a class="md-toc-inner" href="#foreign-key-外键-）">Foreign Key（ 外键 ）</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n120"><a class="md-toc-inner" href="#2关系完整性">2.关系完整性</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n121"><a class="md-toc-inner" href="#1null">1.Null</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n123"><a class="md-toc-inner" href="#2实体完整性">2.实体完整性</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n125"><a class="md-toc-inner" href="#3参照完整性">3.参照完整性</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n128"><a class="md-toc-inner" href="#4用户定义的完整性">4.用户定义的完整性</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n130"><a class="md-toc-inner" href="#3关系代数">3.关系代数</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n133"><a class="md-toc-inner" href="#1一元运算">1.一元运算</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n134"><a class="md-toc-inner" href="#1选择selection-or-restriction">1.选择Selection (or Restriction)</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n138"><a class="md-toc-inner" href="#2投影projection">2.投影Projection</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n142"><a class="md-toc-inner" href="#2集合运算">2.集合运算</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n143"><a class="md-toc-inner" href="#1并union">1.并Union</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n149"><a class="md-toc-inner" href="#2集合差set-difference">2.集合差set difference</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n153"><a class="md-toc-inner" href="#3交intersection">3.交Intersection</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n157"><a class="md-toc-inner" href="#4-笛卡尔积cartesian-product">4. 笛卡尔积cartesian product</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n164"><a class="md-toc-inner" href="#3连接运算">3.连接运算</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n167"><a class="md-toc-inner" href="#1θ连接theta-join">1.θ连接Theta join</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n172"><a class="md-toc-inner" href="#2等值连接equijoin">2.等值连接Equijoin</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n174"><a class="md-toc-inner" href="#3自然连接natural-join">3.自然连接Natural join</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n177"><a class="md-toc-inner" href="#4外连接outer-join">4.外连接Outer join</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n186"><a class="md-toc-inner" href="#5半连接semijoin">5.半连接Semijoin</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n191"><a class="md-toc-inner" href="#4除法运算">4.除法运算</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n196"><a class="md-toc-inner" href="#3sql">3.SQL</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n197"><a class="md-toc-inner" href="#1sql介绍">1.SQL介绍</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n198"><a class="md-toc-inner" href="#1sql的目的">1.SQL的目的</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n200"><a class="md-toc-inner" href="#2sql特点">2.SQL特点</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n207"><a class="md-toc-inner" href="#3写sql指令">3.写SQL指令</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n210"><a class="md-toc-inner" href="#4sql数据类型">4.SQL数据类型</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n212"><a class="md-toc-inner" href="#5完整性增强特性">5.完整性增强特性</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n219"><a class="md-toc-inner" href="#2数据定义语句ddl">2.数据定义语句DDL</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n221"><a class="md-toc-inner" href="#1createdrop-schema模式）">1.CREATE/DROP SCHEMA（模式）</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n223"><a class="md-toc-inner" href="#2create-table">2.CREATE TABLE</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n229"><a class="md-toc-inner" href="#3alter-table">3.ALTER TABLE</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n233"><a class="md-toc-inner" href="#4drop-table">4.DROP TABLE</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n235"><a class="md-toc-inner" href="#5index">5.INDEX</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n240"><a class="md-toc-inner" href="#6drop-index">6.DROP INDEX</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n242"><a class="md-toc-inner" href="#3数据查询语句-query">3.数据查询语句 QUERY</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n243"><a class="md-toc-inner" href="#1select">1.SELECT</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n289"><a class="md-toc-inner" href="#4数据操作语句dml">4.数据操作语句DML</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n290"><a class="md-toc-inner" href="#1insert">1.INSERT</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n296"><a class="md-toc-inner" href="#2update">2.UPDATE</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n300"><a class="md-toc-inner" href="#3delete">3.DELETE</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n303"><a class="md-toc-inner" href="#5视图">5.视图</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n305"><a class="md-toc-inner" href="#1create-view">1.CREATE VIEW</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n311"><a class="md-toc-inner" href="#2drop-view">2.DROP VIEW</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n315"><a class="md-toc-inner" href="#3视图分解view-resolution">3.视图分解View Resolution</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n316"><a class="md-toc-inner" href="#1视图分解">1.视图分解</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n319"><a class="md-toc-inner" href="#2视图的限制">2.视图的限制</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n323"><a class="md-toc-inner" href="#3视图的可更新性">3.视图的可更新性</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n329"><a class="md-toc-inner" href="#4with-check-option">4.With Check Option</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n333"><a class="md-toc-inner" href="#6编程sql">6.编程SQL</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n336"><a class="md-toc-inner" href="#1psmpersistent-stored-modules）">1.PSM（persistent stored modules）</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n339"><a class="md-toc-inner" href="#2embedded-sql">2.Embedded SQL</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n341"><a class="md-toc-inner" href="#3api">3.API</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n343"><a class="md-toc-inner" href="#4关系数据理论">4.关系数据理论</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n344"><a class="md-toc-inner" href="#1问题problems">1.问题Problems</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n345"><a class="md-toc-inner" href="#1数据冗余data-redundancy">1.数据冗余Data Redundancy</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n348"><a class="md-toc-inner" href="#2更新异常update-anomalies">2.更新异常Update Anomalies</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n352"><a class="md-toc-inner" href="#2函数依赖functional-dependency">2.函数依赖Functional Dependency</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n362"><a class="md-toc-inner" href="#3armstrongs-axioms">3.Armstrong‘s axioms</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n412"><a class="md-toc-inner" href="#4规范化过程the-process-of-normalization">4.规范化过程The Process of Normalization</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n413"><a class="md-toc-inner" href="#1范式的定义">1.范式的定义</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n416"><a class="md-toc-inner" href="#2规范化定义">2.规范化定义</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n418"><a class="md-toc-inner" href="#3模式分解的标准">3.模式分解的标准</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n429"><a class="md-toc-inner" href="#4unf1nf2nf">4.UNF&amp;1NF&amp;2NF</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n436"><a class="md-toc-inner" href="#53nfbcnf">5.3NF&amp;BCNF</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n442"><a class="md-toc-inner" href="#5数据库设计">5.数据库设计</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n443"><a class="md-toc-inner" href="#1数据库研发生命周期">1.数据库研发生命周期</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n447"><a class="md-toc-inner" href="#2er模型">2.ER模型</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n454"><a class="md-toc-inner" href="#3加强er模型">3.加强ER模型</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n457"><a class="md-toc-inner" href="#4er模型到关系模型的规范">4.ER模型到关系模型的规范</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n460"><a class="md-toc-inner" href="#6数据库安全">6.数据库安全</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n461"><a class="md-toc-inner" href="#1概念">1.概念</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n463"><a class="md-toc-inner" href="#2权限">2.权限</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n465"><a class="md-toc-inner" href="#3赋予权限">3.赋予权限</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n468"><a class="md-toc-inner" href="#4收回权限">4.收回权限</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n471"><a class="md-toc-inner" href="#7并发控制">7.并发控制</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n472"><a class="md-toc-inner" href="#1传输的概念和特征">1.传输的概念和特征</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n476"><a class="md-toc-inner" href="#2由并发引发的三个潜在问题">2.由并发引发的三个潜在问题</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n480"><a class="md-toc-inner" href="#3可串行化">3.可串行化</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n483"><a class="md-toc-inner" href="#4二阶段封锁">4.二阶段封锁</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n492"><a class="md-toc-inner" href="#5隔离等级">5.隔离等级</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n498"><a class="md-toc-inner" href="#8数据库恢复">8.数据库恢复</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n499"><a class="md-toc-inner" href="#1失败">1.失败</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n501"><a class="md-toc-inner" href="#2会话与恢复">2.会话与恢复</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n505"><a class="md-toc-inner" href="#3恢复机制">3.恢复机制</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n509"><a class="md-toc-inner" href="#4恢复技术">4.恢复技术</a></span></p></div><p><img src="D:\Typora_CACHE\image-20220617231354844.png" alt="image-20220617231354844" style="zoom:80%;" /></p><h1 id='1数据库系统介绍'><span>1.数据库系统介绍</span></h1><h2 id='11基础概念'><span>1.1基础概念</span></h2><h3 id='1数据'><span>1数据</span></h3><p><span>the basic object stored in the computer</span></p><p><span>the symbol record depicting the objects that  exists objectively</span></p><p><span>Data type digit, text, graph, image, audio, video, etc.</span></p><h3 id='2数据库'><span>2.数据库</span></h3><p><span>A shared collection of </span><strong><span>logically related</span></strong><span> data,  and a description of this data, designed to  meet the information needs of an organization. </span></p><p><span>including two types of data: </span>
<strong><span>User data, Logically related data</span></strong><span> comprises entities,  attributes, and relationships of an organization’s  information. e.g. Grade=90 </span>
<strong><span>Metadata</span></strong><span> (System catalog , data dictionary) is the  ‘data about data’and provides description of  data, e.g. int grade;</span></p><h3 id='3数据库管理系统dbms'><span>3.数据库管理系统DBMS</span></h3><p><span>A </span><strong><span>software system</span></strong><span> that enables users to define,  create, maintain and control access to this  database. </span></p><p><span>The DBMS is the software that </span><strong><span>interacts</span></strong><span> with  the users’ application program and the  </span><strong><span>database</span></strong><span>. </span></p><p><span>Commercial DBMS：DB2、Oracle、 SQL  Server </span></p><p><span>Open Source DBMS： MySQL</span></p><h3 id='dbms的功能'><span>DBMS的功能</span></h3><h4 id='1data-definition-languageddl）'><span>1.Data definition language（DDL）</span></h4><h4 id='2data-manipulation-language-dml'><span>2.Data Manipulation Language (DML)</span></h4><h4 id='3安全系统完整性系统并发控制系统恢复控制系统'><span>3.安全系统、完整性系统、并发控制系统、恢复控制系统</span></h4><h3 id='4数据库系统dbs'><span>4.数据库系统DBS</span></h3><p><span>It is a computer system using DB technique </span></p><p><span>Components of DBS</span><br/><span>Hardware </span>
<span>Can range from a PC to a network of computers. </span></p><p><span>Software </span>
<span>operating system, DBMS, network software (if  necessary), High-level Programming Language,  Compiling system, Application development tools and  also the application programs. </span></p><h3 id='数据库系统历史'><span>数据库系统历史</span></h3><p><span>First-generation (middle of 1960s) </span>
<span>– </span><strong><span>Hierarchical</span></strong><span> (IBM---IMS) ：Tree Structure </span>
<span>– </span><strong><span>Network</span></strong><span> (DBTG---DBTG report, 1965-1971) ：Graph Structure </span></p><p><span>Second generation (1970, E.F. Codd)</span>
<span> – </span><strong><span>Relational</span></strong><span> (IBM-System R， UCB- INGRES) </span></p><p><span>Third generation (1980s-1990s) </span>
<span>– </span><strong><span>Object-Oriented</span></strong><span> (OODB) （combine OO with DB, 1980s, fail） </span>
<span>– </span><strong><span>Object Relational</span></strong><span> (ORDBS) （ introduce OO to RDB，Postgres） </span></p><p><span>New Trend (after 1990s) </span>
<span>– </span><strong><span>Semi-structured DBS</span></strong><span> (based on XML DM )</span></p><h2 id='12数据管理技术的发展历史'><span>1.2数据管理技术的发展历史</span></h2><p><span>Data Management is to classify, organize, encode, store, retrieve and maintain data. </span></p><h3 id='1manual-system-before-the-mid-1950s-'><span>1.Manual System (before the mid-1950s )</span></h3><p><strong><span>Background</span></strong><span> </span>
<span>Software: no OS or specified software </span>
<span>Hardware: no direct access device ,e.g. disk only punched tape, magnetic tape and card.</span></p><p><strong><span>Features</span></strong><span>: </span>
<span>Data can not be kept for a long time </span>
<span>Program manages data </span>
<span>Data can not be shared </span>
<span>Data dependence</span></p><h3 id='2traditional-file-based-system1950s-1960s'><span>2.Traditional File-Based System(1950s-1960s)</span></h3><p><span>A collection of application programs that perform  services for the end users (e.g. reports).</span></p><p><strong><span>Background</span></strong><span> </span>
<span>Hardware: Direct access device, e.g. disk, memory drum</span><br/><span>Software: OS—file system</span></p><p><strong><span>Features (Outperform Manual System)</span></strong><span> </span>
<span>Data can be kept for a long time, I, D,U, S  operation </span>
<span>File system manages data</span></p><p><span>File structure is defined inside the application code, known  as </span><strong><span>program-data dependence</span></strong><span> (programs depend on data).</span></p><h3 id='3database-system-after-the-mid-1960s-'><span>3.Database System (after the mid-1960s )</span></h3><p><span>DBS is much better than the file-based approach </span>
<strong><span>Features of DBS</span></strong><span> </span>
<span>Data Structuring </span>
<span>High degree of data sharing, low degree of data  redundancy </span>
<span>High degree of Data independence </span>
<span>Data can be managed and controlled unifiedly by  DBMS</span></p><h5 id='1-data-structuring'><span>(1) Data Structuring </span></h5><p><span>Data is for the entire enterprise, not for only one  application </span>
<span>Both Internal and external data structuring,  relationship among data </span>
<span>The length of the data record is variable. </span>
<span>The smallest access unit is </span><strong><span>data item</span></strong><span>. </span>
<span>Data is described by </span><strong><span>data model</span></strong><span>, not in the  application program.</span></p><p><span>(2) High degree of data sharing, low degree</span>
<span>of data redundancy</span>
<span>Reduce data redundancy, save the storage</span>
<span>space</span>
<span>Avoid the </span><strong><span>incompatibility</span></strong><span> （</span><strong><span>float &amp; int</span></strong><span>）and</span>
<strong><span>inconsistency</span></strong><span> (</span><strong><span>stored more than once</span></strong><span> ) of the</span>
<span>data.</span></p><p><span>(3) High degree of Data independence</span>
<span>-Logical Data independence</span>
<span>-Physical Data independence</span></p><p><span>(4) Data can be managed and controlled</span>
<span>unifiedly by DBMS.</span>
<span>– security protection (priviledge )</span>
<span>– integrity check (</span><strong><span>correctness, validity</span></strong>
<strong><span>and consistency</span></strong><span>)</span>
<span>– concurrency control</span>
<span>– database recovery</span></p><h2 id='13数据模型'><span>1.3数据模型</span></h2><h3 id='1定义'><span>1.定义</span></h3><p><strong><span>Model</span></strong><span> is a simulation of ‘real world’ objects and event,</span>
<span>and their associations.</span>
<span>e.g. Aeromodelling( 航模) plane</span></p><p><strong><span>Data Model</span></strong>
<span>-a kind of model</span>
<span>-an abstract of data feature in the real world</span>
<span>-</span><strong><span>【definition 】</span></strong><span>An integrated collection of concepts</span>
<span>for describing and manipulating data, relationships</span>
<span>between data, and constraints on the data in an</span>
<span>organization.</span>
<span>-</span><strong><span>Data Model is a simulation of Real world.</span></strong></p><h3 id='2数据模型的三个部分'><span>2.数据模型的三个部分</span></h3><p><span>Data Model comprises:</span>
<span>-a structural part （</span><strong><span>Data Structure</span></strong><span> ）;</span>
<span>-a manipulative part （</span><strong><span>Data Manipulation</span></strong><span> ）;</span>
<span>	</span><span>query</span>
<span>	</span><span>modify (insert, delete, update)</span>
<span>-a set of </span><strong><span>integrity rules</span></strong><span>.</span>
<span>	</span><span>It is a set of rules (constraints) which ensure</span>
<span>that the data is accurate.</span>
<span>	</span><strong><span>Integrity=correctness + validity+ consistency</span></strong></p><h3 id='3两种数据类型'><span>3.两种数据类型</span></h3><p><span>-Conceptual Model (called Information Model )</span>
<span>It builds models for data and information according to the view</span>
<span>of users. It is used to design the database.</span></p><p><span>Structural Data Model (called Data Model )</span>
<span>-</span><strong><span>Logical data model</span></strong>
<span>	</span><span>• It builds models for data and information according to the</span>
<strong><span>view of computer systems</span></strong><span>.</span>
<span>	</span><span>• It is used to implement DBMS.</span>
<span>-</span><strong><span>Physical data model</span></strong>
<span>	</span><span>• PM is the lowest layer of abstract of data.</span>
<span>	</span><span>• It describes the ways of data representation and data access in</span>
<span>computer system.</span>
<span>	</span><span>• It is the task of DBMS to implement PM.</span></p><p><img src="D:\Typora_CACHE\image-20220521103000334.png" alt="image-20220521103000334" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521103057796.png" alt="image-20220521103057796" style="zoom:50%;" /></p><h4 id='1概念建模'><span>1.概念建模</span></h4><p><strong><span>Conceptual modelling</span></strong><span>, or </span><strong><span>conceptual database design</span></strong><span>, is process of developing a model of information, which is independent of implementation details, such as the target DBMS, application programs, programming</span>
<span>languages, or any other physical considerations.</span>
<span>Its result is a </span><strong><span>conceptual data model</span></strong><span>.</span>
<span>Conceptual model is </span><strong><span>independent of DBMS</span></strong><span> and </span><strong><span>all implementation details (DBMS-independent)</span></strong><span>.</span>
<em><span>Entity-Relationship Approach ，called E-R model</span></em></p><h4 id='2逻辑建模'><span>2.逻辑建模</span></h4><p><strong><span>Logical data model</span></strong><span> assumes that we know the underlying data model of the </span><strong><span>target DBMS</span></strong><span>,</span>
<span>which maybe is:</span>
<span>• Hierarchical model---</span><strong><span>Tree</span></strong>
<span>• Network model---</span><strong><span>Graph</span></strong>
<span>• Relational model—</span><strong><span>2D tables</span></strong>
<span>• Object-oriented data model</span>
<span>• Object Relational data model</span>
<span>• Semi-structured data model</span></p><h2 id='14数据库系统体系结构'><span>1.4数据库系统体系结构</span></h2><h3 id='1模式'><span>1.模式</span></h3><p><span>The overall structure of the database is called the schema.</span>
<span>It describes the </span><strong><span>types</span></strong><span> of DB, not the concrete values.</span>
<span>It is relatively </span><strong><span>stable</span></strong><span>, whereas value is varying.</span></p><h3 id='2实例'><span>2.实例</span></h3><p><span>The data in DB at any particular point in time is called a database instance.—the concrete </span><strong><span>value</span></strong><span> of a schema</span>
<span>One schema can have many instances.</span>
<span>Instance </span><strong><span>varies</span></strong><span> along with the modified data / flying time.</span></p><h3 id='3ansi-sparc-三层结构'><span>3.ANSI-SPARC 三层结构</span></h3><p><img src="D:\Typora_CACHE\image-20220521104020139.png" alt="image-20220521104020139" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521113333868.png" alt="image-20220521113333868" style="zoom:50%;" /></p><h4 id='1概念模式'><span>1.概念模式</span></h4><p><span>Conceptual Schema （Logical schema, or Schema. ）</span>
<span>– It represents the </span><strong><span>global logical structure</span></strong><span> of the entire database, it is </span><strong><span>common data view</span></strong><span> of all users.</span>
<span>– Describes what data is stored in database and relationships among the data.</span>
<span>– It is independent of any storage considerations.</span></p><p><span>The Conceptual Schema includes:</span>
<span>–all entities, their attributes, and their relationships;</span>
<span>–the constraints on the data;</span>
<span>–semantic information about the data;</span>
<span>–security and integrity information.</span></p><h4 id='2外模式'><span>2.外模式</span></h4><p><span>External Schema （User Schema or Subschema）</span>
<span>– It is the </span><strong><span>Local logical structure</span></strong><span> of the database. It is users’ view of the database.</span>
<span>– Describes that part of database that is relevant to a particular user.</span>
<span>– Some views might include derived or calculated data. </span>
<span>	</span><em><span>E.g. age=current_year – birth_year</span></em></p><h4 id='3内模式'><span>3.内模式</span></h4><p><span>Internal Schema （Storage schema ）</span>
<span>– It is physical representation of the DB on the computer. It is the </span><strong><span>global physical structure</span></strong><span> of the DB.</span>
<span>– Describes how the data is stored in the database.</span>
<span>– </span><strong><span>One DB has only one Internal Schema.</span></strong></p><p><span>The internal level includes:</span>
<span>– storage space allocation for data and indexes;</span>
<span>– record descriptions for storage (with stored sizes for data items)</span>
<span>– data compression and data encryption techniques.</span></p><h2 id='15数据独立性'><span>1.5数据独立性</span></h2><p><span>In one word, upper levels are unaffected by changes to lower levels. It is called </span><strong><span>data independence</span></strong><span>.</span></p><h3 id='1两种类型'><span>1.两种类型</span></h3><p><span>-Logical Data Independence</span>
<span>-Physical Data Independence</span></p><p><span>Data Independence is guaranteed by two-level of mapping provided by DBMS.</span>
<span>-external/conceptual mapping</span>
<span>-conceptual/ internal mapping</span></p><h3 id='2逻辑数据独立性'><span>2.逻辑数据独立性</span></h3><p><span>Logical Data Independence</span>
<span>– Refers to immunity of external schemas to changes in conceptual schema.</span>
<span>i.e. Conceptual schema </span><strong><span>changes (e.g. addition/removal of entities or attributes)</span></strong><span> should not require changes to external schema or rewrites of application programs.</span></p><p><span>Logical Data Independence is guaranteed by the mapping between external schema and conceptual schema （</span><strong><span>external/conceptual mapping</span></strong><span> ）.</span></p><p><span>The definition of external/conceptual mapping is described in the corresponding </span><strong><span>subschema</span></strong><span>. </span></p><h3 id='3物理数据独立性'><span>3.物理数据独立性</span></h3><p><span>Physical Data Independence</span>
<span>– Refers to immunity of </span><strong><span>conceptual</span></strong><span> schema to changes in the </span><strong><span>internal</span></strong><span> schema.</span>
<span>i.e. Internal schema changes (</span><em><span>e.g. using different file organizations, storage structures/devices</span></em><span>) should not require change to conceptual or external schemas.</span></p><p><span>Physical Data Independence is guaranteed by the mapping between </span><strong><span>conceptual</span></strong><span> schema and </span><strong><span>internal</span></strong><span> schema （</span><strong><span>conceptual/ internal mapping</span></strong><span> ）.</span></p><p><span>The definition of conceptual/internal mapping is unique and is described in the </span><strong><span>conceptual schema</span></strong><span>.</span></p><p><img src="D:\Typora_CACHE\image-20220521114946896.png" alt="image-20220521114946896" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521115503082.png" alt="image-20220521115503082" style="zoom:50%;" /></p><h1 id='2关系数据模型'><span>2.关系数据模型</span></h1><h2 id='1关系数据模型'><span>1.关系数据模型</span></h2><p><strong><span>Relational Model</span></strong><span> is based on the mathematical concept of a relation, which is physically represented as a table.</span></p><h3 id='1术语'><span>1.术语</span></h3><p><span>A </span><strong><span>relation</span></strong><span> is a table with columns and rows.</span>
<span>-Only applies to </span><strong><span>logical structure</span></strong><span> of the database,</span>
<span>-</span><strong><span>not</span></strong><span> the </span><strong><span>physical structure</span></strong><span> ，which we can implement using a variety of storage structures (such as a heap file or hash file).</span></p><p><span>An </span><strong><span>attribute</span></strong><span> is a named column of a relation.</span></p><p><span>A </span><strong><span>domain</span></strong><span> is the set of allowable values for one or more attributes.</span></p><p><span>A </span><strong><span>tuple</span></strong><span> is a row of a relation.</span></p><p><span>The </span><strong><span>degree</span></strong><span> (维 维 、度 度) is the number of attributes in a relation.</span></p><p><span>The </span><strong><span>cardinality（基数）</span></strong><span>is the number of tuples in a relation.</span></p><p><strong><span>Relational Database</span></strong><span> is a collection of normalized relations with distinct </span><em><span>relation</span></em><span> names.</span></p><p><img src="D:\Typora_CACHE\image-20220521164757719.png" alt="image-20220521164757719" style="zoom:50%;" /></p><h3 id='2关系模式'><span>2.关系模式</span></h3><p><strong><span>Relation schema（关系模式）</span></strong>
<span>– A named relation defined by a set of attribute and domain name pairs.</span>
<span>– Example: </span><em><span>students(sno, sname, DOB)</span></em><span> or students(sno:</span><em><span>StudentNumbers</span></em><span>, sname: </span><em><span>string</span></em><span>, DOB: </span><em><span>DateOfBirth</span></em><span>)</span></p><p><span>Relation schema is </span><strong><span>type</span></strong><span>, relation is </span><strong><span>value</span></strong><span>.</span></p><p><strong><span>Relational database schema（关系数据库模式）</span></strong></p><p><span>– A set of all relation schemas, each with a distinct name.</span>
<span>Relational database schema is </span><strong><span>type</span></strong><span>（型）, relational database is </span><strong><span>value</span></strong></p><h3 id='3relational-keys关键字）'><span>3.Relational keys（关键字）</span></h3><h4 id='superkey-超键）'><span>Superkey （超键）</span></h4><p><span>– An attribute, or a set of attributes, that uniquely identifies a tuple within a relation.</span></p><h4 id='candidate-key候选键）'><span>Candidate Key（候选键）</span></h4><p><span>Superkey (K) such that </span><strong><span>no proper subset</span></strong><span> is a superkey</span>
<span>	</span><span>within the relation. e.g. {a, b} :{ } {a} {b}</span>
<span>Or A superkey that contains only the </span><strong><span>minimum number</span></strong><span> of columns necessary for unique </span><strong><span>identification</span></strong><span>.</span>
<span>A candidate key, K, for a relation R has two properties:</span>
<span>-</span><strong><span>uniqueness</span></strong><span> – in each tuple of R, the values of K uniquely identify that tuple;</span>
<span>-</span><strong><span>rreducibility</span></strong><span> – no proper subset of K has the uniqueness property.</span></p><h4 id='primary-key-pk主键主码-'><span>Primary Key (PK，主键、主码 )</span></h4><p><span>– Candidate key that is selected to identify tuples (records) uniquely within the relation (table).</span></p><h4 id='alternate-keys-ak备用键-备用键'><span>Alternate Keys (AK，备用键 备用键)</span></h4><p><span>– Candidate keys that are not selected to be primary key.</span>
<span>e.g. Branch (branchNo, street, city, Postcode)</span>
<span>	</span><span>PK=(branchNo), AK=(street, city)</span>
<strong><span>Primary-key attribute(主属性)</span></strong>
<span>− An attribute included in any candidate key.</span></p><h4 id='foreign-key-外键-）'><span>Foreign Key（ 外键 ）</span></h4><p><span>– Attribute, or set of attributes, within one relation that matches candidate key of some (possibly same) relation.</span>
<span>e.g. Staff (staffNo, fName, lName, position, branchNo, leaderNo)</span></p><h2 id='2关系完整性'><span>2.关系完整性</span></h2><h3 id='1null'><span>1.Null</span></h3><p><span>Represents value for an attribute that is currently unknown or not applicable for tuple.</span>
<span>Deals with incomplete or exceptional data.</span>
<span>Represents the absence of a value and is </span><strong><span>not the same as zero or spaces</span></strong><span>, which are values.</span>
<span>e.g. sc ( sno, cno, grade )</span>
<span>	</span><span>grade=0 and grade is null</span></p><h3 id='2实体完整性'><span>2.实体完整性</span></h3><p><span>In a base relation, </span><strong><span>no attribute of a candidate key</span></strong><span> can be null.</span>
<em><span>i.e. A primary-key attribute can not be a null.</span></em></p><h3 id='3参照完整性'><span>3.参照完整性</span></h3><p><span>If foreign key exists in a relation,</span>
<span>-either foreign key value must </span><strong><span>match a candidate key value</span></strong><span> of some tuple in its home relation or</span>
<span>-foreign key value must be wholly </span><strong><span>null</span></strong><span>.</span></p><p><span>The name of foreign key </span><strong><span>need not be the same</span></strong><span> with that of its referencing primary key.</span>
<span>e.g. S (sno, sname, age, sex)</span>
<span>	</span><span>sc ( sno , cno, Grade ) snum </span><strong><span>sno can not be null</span></strong></p><h3 id='4用户定义的完整性'><span>4.用户定义的完整性</span></h3><p><span> Additional rules specified by users or database administrators of a database that define or constrain some aspect of the enterprise..</span></p><h2 id='3关系代数'><span>3.关系代数</span></h2><p><strong><span>Relational algebra</span></strong><span> operations work on one or more relations to define another relation without changing the original relations.</span>
<span>Both operands and results are relations, so output from one operation can become input to another operation.</span></p><p><span>Five basic operations in relational algebra: </span><strong><span>Selection, Projection, Union, Cartesian product, and Set Difference</span></strong><span>.</span>
<span>These perform most of the data retrieval operations needed.</span>
<span>Also have </span><strong><span>Join, Intersection, and Division</span></strong><span> operations, which can be expressed in terms of 5 basic operations.</span></p><h3 id='1一元运算'><span>1.一元运算</span></h3><h4 id='1选择selection-or-restriction'><span>1.选择Selection (or Restriction)</span></h4><p><span>σ predicate (R) 【Sigma】，不是 δ 【Delta】</span>
<span>选择行</span>
<span>The Selection operation works on a </span><strong><span>single relation</span></strong><span> R and defines a relation that contains only those tuples (rows) of R that satisfy the specified </span><strong><span>condition</span></strong><span> (predicate).</span></p><p><img src="D:\Typora_CACHE\image-20220521170903871.png" alt="image-20220521170903871" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521173951677.png" alt="image-20220521173951677" style="zoom:50%;" /></p><h4 id='2投影projection'><span>2.投影Projection</span></h4><p><span>Π</span><em><span>col1, . . . , coln</span></em><span> (R)</span>
<span>投影列</span>
<span>The Projection operation works on a </span><strong><span>single relation</span></strong><span> R and defines a relation that contains a </span><strong><span>vertical subset</span></strong><span> of R, extracting the values of specified attributes and </span><strong><span>eliminating duplicates</span></strong><span>.</span></p><p><img src="D:\Typora_CACHE\image-20220521174159798.png" alt="image-20220521174159798" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521174209329.png" alt="image-20220521174209329" style="zoom:50%;" /></p><h3 id='2集合运算'><span>2.集合运算</span></h3><h4 id='1并union'><span>1.并Union</span></h4><p><span>R ∪ S</span>
<span>-The union of two relations R and S defines a relation that contains all the tuples of R, or S, or both R and S, </span><strong><span>duplicate tuples being eliminated</span></strong><span>.</span>
<span>-R and S must be </span><strong><span>union-compatible</span></strong><span>.</span></p><p><span>If R and S have I and J tuples, respectively, union is obtained by </span><strong><span>concatenating</span></strong><span> them into one relation with a maximum of (I + J) tuples.</span></p><p><span>Two tables must be </span><strong><span>union compatible</span></strong><span>.</span>
<span>The </span><strong><span>numbers</span></strong><span> of columns in two tables should be the </span><strong><span>same</span></strong><span>.</span>
<span>The corresponding </span><strong><span>columns</span></strong><span> should get values from the same domain.</span></p><p><img src="D:\Typora_CACHE\image-20220521174429026.png" alt="image-20220521174429026" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521174444869.png" alt="image-20220521174444869" style="zoom:50%;" /></p><h4 id='2集合差set-difference'><span>2.集合差set difference</span></h4><p><span>-The Set difference operation defines a relation consisting of the tuples that are in relation R, but not in S.</span>
<span>-R and S must be </span><strong><span>union-compatible</span></strong><span>.</span></p><p><img src="D:\Typora_CACHE\image-20220521174612962.png" referrerpolicy="no-referrer" alt="image-20220521174612962"></p><p><img src="D:\Typora_CACHE\image-20220521174625871.png" alt="image-20220521174625871" style="zoom:50%;" /></p><h4 id='3交intersection'><span>3.交Intersection</span></h4><p><span>-The Intersection operation defines a relation consisting of the set of all tuples that are in both R and S.</span>
<span>-R and S must be </span><strong><span>union-compatible</span></strong><span>.</span>
<span>Note that we can express the Intersection operation in terms of the Set difference operation :</span>
<em><span>R ∩ S = R – (R – S)</span></em></p><p><img src="D:\Typora_CACHE\image-20220521174745330.png" alt="image-20220521174745330" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521174807096.png" alt="image-20220521174807096" style="zoom:50%;" /></p><h4 id='4-笛卡尔积cartesian-product'><span>4. 笛卡尔积cartesian product</span></h4><p><span>R × S</span>
<span>The Cartesian product operation defines a relation that is the concatenation of every tuple of relation R with every tuple of relation S.</span></p><p><span>The Cartesian product operation multiplies two relations to define another relation consisting of all possible pairs of tuples from the two relations.</span></p><p><span>Therefore, if one relation has </span><strong><span>I tuples and N attributes</span></strong><span> and the other has </span><strong><span>J tuples and M attributes</span></strong><span>, the Cartesian product relation will contain </span><strong><span>(I * J) tuples with (N + M) attributes</span></strong><span>.</span></p><p><span>It is possible that the two relations may have attributes with the same name. In this case, the attribute names are </span><strong><span>prefixed with the relation name</span></strong><span> to maintain the uniqueness of attribute names within a relation.</span></p><p><img src="D:\Typora_CACHE\image-20220521175326940.png" alt="image-20220521175326940" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521175341137.png" alt="image-20220521175341137" style="zoom:50%;" /></p><h3 id='3连接运算'><span>3.连接运算</span></h3><p><span>-The Join operation, which combines two relations to form a new relation, is one of the essential operations in the relational algebra.</span>
<span>-Join is a derivative of Cartesian product.</span>
<span>-It is equivalent to performing a </span><strong><span>Selection</span></strong><span>, using </span><strong><span>join predicate</span></strong><span> as selection formula, over </span><strong><span>Cartesian product</span></strong><span> of the two operand relations.</span>
<span>-Join is one of the most difficult operations to implement efficiently in an RDBMS and one reason why RDBMSs have intrinsic performance problems.</span></p><p><span>There are various forms of join operation, each with subtle differences, some more useful than others:</span>
<em><span>Theta join (θ θ-join)</span></em>
<em><span>Equijoin (a particular type of Theta join)</span></em>
<em><span>Natural join</span></em>
<em><span>Outer join</span></em><span> </span><em><span>( Right Outer join , Left Outer join )</span></em>
<em><span>Semijoin</span></em></p><h4 id='1θ连接theta-join'><span>1.θ连接Theta join</span></h4><p><img src="D:\Typora_CACHE\image-20220521175815759.png" alt="image-20220521175815759" style="zoom:33%;" /></p><p><span>It defines a relation that contains tuples satisfying the predicate F from the Cartesian product of R and S.</span>
<span>The predicate F is of the form R.ai θ S.b i where θ θ may be one of the </span><strong><span>comparison operators</span></strong><span> (&lt;, ≤, &gt;, ≥, =, ≠).</span></p><p><span>We can rewrite Theta join using </span><strong><span>basic Selection and Cartesian product</span></strong><span> operations.</span>
<img src="D:\Typora_CACHE\image-20220521175941697.png" alt="image-20220521175941697" style="zoom:33%;" />
<span> As with Cartesian product, the Degree of a Theta join is the sum of degrees of the operand relations R and S.</span>
<span> In the case where the predicate F contains </span><strong><span>only equality</span></strong><span> (=), the term </span><strong><span>Equijoin</span></strong><span> is used instead.</span></p><p><img src="D:\Typora_CACHE\image-20220521180012106.png" alt="image-20220521180012106" style="zoom:50%;" /></p><h4 id='2等值连接equijoin'><span>2.等值连接Equijoin</span></h4><p><img src="D:\Typora_CACHE\image-20220521180112475.png" alt="image-20220521180112475" style="zoom:50%;" /></p><h4 id='3自然连接natural-join'><span>3.自然连接Natural join</span></h4><p><span>R ⋈ S</span>
<span>The Natural join is an </span><strong><span>Equijoin</span></strong><span> of the two relations R and S over </span><strong><span>all common attributes</span></strong><span> x.</span>
<span>One occurrence of each </span><strong><span>common attribute is eliminated</span></strong><span> from the result.</span>
<span>The Natural join operation performs an Equijoin </span><strong><span>over all the attributes</span></strong><span> in the two relations that </span><strong><span>have the same name</span></strong><span>.</span>
<span>The </span><strong><span>degree</span></strong><span> of a Natural join is the </span><strong><span>sum of the degrees</span></strong><span> of the relations R and S less the number of attributes in x.</span></p><p><img src="D:\Typora_CACHE\image-20220521180327897.png" alt="image-20220521180327897" style="zoom:50%;" /></p><h4 id='4外连接outer-join'><span>4.外连接Outer join</span></h4><p><span>Often in joining two relations, a tuple in one relation does not have a matching tuple in the other relation.</span>
<span>In other words, there is no matching value in the join attributes.</span>
<span>We may want tuples from one of the relations to appear in the result even when there are no matching values in the other relation.</span>
<span>This may be accomplished using the </span><strong><span>Outer join</span></strong><span>.</span>
<span>To display rows in the result that do not have matching values in the join column, use </span><strong><span>Outer join</span></strong><span>.</span></p><p><span>The Outer join is becoming more widely available in relational systems and is a specified operator in the SQL standard (see Chapter 3).</span>
<span>The </span><strong><span>advantage of an Outer join</span></strong><span> is that information is preserved, that is, the Outer join preserves tuples that would have been lost by other types of join.</span></p><p><strong><span>悬浮元组（Dangling tuple）</span></strong>
<span>两个关系R和S在做自然连接时，关系R中某些元组有可能在S中不存在公共属性上值相等的元组，从而造成R中这些元组在操作时被舍弃了，这些被舍弃的元组称为 悬浮元组。</span></p><p><span>如果把悬浮元组也保存在结果关系中，而在其他属性上填空值(Null)，就叫做外连接。</span>
<span>左外连接 外连接(LEFT OUTER JOIN或LEFT JOIN)，只保留左边关系R中的悬浮元组</span>
<span>右外连接(RIGHT OUTER JOIN或RIGHT JOIN)，只保留右边关系S中的悬浮元组</span></p><p><img src="D:\Typora_CACHE\image-20220521180704521.png" alt="image-20220521180704521" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521180717466.png" alt="image-20220521180717466" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521180730210.png" alt="image-20220521180730210" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521180740104.png" alt="image-20220521180740104" style="zoom:50%;" /></p><h4 id='5半连接semijoin'><span>5.半连接Semijoin</span></h4><p><img src="D:\Typora_CACHE\image-20220521180828705.png" alt="image-20220521180828705" style="zoom:33%;" /></p><p><span>The </span><strong><span>Semijoin</span></strong><span> operation defines a relation that contains the tuples of R that participate in the join of </span><strong><span>R</span></strong><span> with S.</span>
<span>The Semijoin operation performs a join of the two relations and then projects over the attributes of the first operand.</span>
<span>One </span><strong><span>advantage</span></strong><span> of a Semijoin is that it decreases the number of tuples that need to be handled to form the join.</span>
<span>It is particularly useful for computing joins in distributed systems.</span></p><p><span>We can rewrite the Semijoin using the </span><strong><span>Projection</span></strong><span> and Join operations:</span>
<img src="D:\Typora_CACHE\image-20220521180954435.png" alt="image-20220521180954435" style="zoom:33%;" />
<span>where A is the set of all attributes for R.</span>
<span>This is actually a </span><strong><span>Semi-Theta join</span></strong><span>.</span>
<span>There are variants for </span><strong><span>Semi-Equijoin and Semi- Natural join</span></strong><span>.</span></p><p><img src="D:\Typora_CACHE\image-20220521181006163.png" alt="image-20220521181006163" style="zoom:50%;" /></p><h3 id='4除法运算'><span>4.除法运算</span></h3><p><img src="D:\Typora_CACHE\image-20220521181025891.png" alt="image-20220521181025891" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521181034585.png" alt="image-20220521181034585" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521181045679.png" alt="image-20220521181045679" style="zoom:50%;" /></p><p><img src="D:\Typora_CACHE\image-20220521181054414.png" alt="image-20220521181054414" style="zoom:50%;" /></p><h1 id='3sql'><span>3.SQL</span></h1><h2 id='1sql介绍'><span>1.SQL介绍</span></h2><h3 id='1sql的目的'><span>1.SQL的目的</span></h3><p><span>A database language should allow a user to:</span>
<span>-create the database and relation structures;</span>
<span>-perform basic data management tasks, such as the insertion, modification, and deletion of data from the relations;</span>
<span>-perform both simple and complex queries.</span></p><h3 id='2sql特点'><span>2.SQL特点</span></h3><p><strong><span>(1)SQL is a comprehensive and unifiedlanguage with 3 major components</span></strong><span>:</span></p><p><span>1.A Data Definition Language (DDL) for defining database structure.</span>
<span>-Create, alter, and drop the database, relation and view structures;</span></p><p><span>2.A Data Manipulation Language (DML) for manipulating data.</span>
<span>-insert, delete, update and retrieve the data in DB.</span></p><p><span>3.A Data Control Language (DCL) DCL for security, integrity, transaction control</span>
<span>-Grant or Revoke the privilege to the</span>
<span>users</span>
<span>-ensure entity integrity, referential integrity and user-defined integrity</span>
<span>-Ensure the correct schedule for concurrent transactions.</span></p><p><strong><span>(2)SQL is relatively easy to learn:</span></strong>
<span>-It is essentially free-format.</span>
<span>-SQL Consists of standard English words.</span>
<span>-There are only 9 core command words.</span>
<span>	</span><span>-Data query——SELECT</span>
<span>	</span><span>-Data definition——CREATE, DROP, ALTER</span>
<span>	</span><span>-Data manipulation——INSERT, UPDATE, DELETE</span>
<span>	</span><span>-Data control——GRANT, REVOKE</span></p><p><span>(3) SQL is </span><strong><span>non-procedural</span></strong><span> - you specify whatinformation you require, rather than how to get</span>
<span>(4) You could use SQL in two ways: </span><strong><span>Embedded SQL</span></strong><span> or Interactive SQL.</span>
<span>(5) It must be </span><strong><span>portable</span></strong><span>（可移植的）</span></p><h3 id='3写sql指令'><span>3.写SQL指令</span></h3><p><img src="D:\Typora_CACHE\image-20220526002747567.png" alt="image-20220526002747567" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526002759005.png" alt="image-20220526002759005" style="zoom:67%;" /></p><h3 id='4sql数据类型'><span>4.SQL数据类型</span></h3><p><img src="D:\Typora_CACHE\image-20220526113147438.png" alt="image-20220526113147438" style="zoom:67%;" /></p><h3 id='5完整性增强特性'><span>5.完整性增强特性</span></h3><p><span>• Consider five types of integrity constraints:</span>
<span>	</span><span>– Required data.</span>
<span>	</span><span>– Domain constraints (value interval).</span>
<span>	</span><span>– Entity integrity.</span>
<span>	</span><span>– Referential integrity.</span>
<span>	</span><span>– Enterprise constraints(user-defined integrity).</span></p><p><img src="D:\Typora_CACHE\image-20220526113256992.png" alt="image-20220526113256992" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526113312173.png" alt="image-20220526113312173" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526113336385.png" alt="image-20220526113336385" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526113405548.png" alt="image-20220526113405548" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526113415642.png" alt="image-20220526113415642" style="zoom:67%;" /></p><h2 id='2数据定义语句ddl'><span>2.数据定义语句DDL</span></h2><p><img src="D:\Typora_CACHE\image-20220526113531332.png" alt="image-20220526113531332" style="zoom:67%;" /></p><h3 id='1createdrop-schema模式）'><span>1.CREATE/DROP SCHEMA（模式）</span></h3><p><img src="D:\Typora_CACHE\image-20220526113650398.png" alt="image-20220526113650398" style="zoom:67%;" /></p><h3 id='2create-table'><span>2.CREATE TABLE</span></h3><p><img src="D:\Typora_CACHE\image-20220526113714057.png" alt="image-20220526113714057" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526113731002.png" alt="image-20220526113731002" style="zoom:67%;" /></p><p><span>eg.</span></p><p><img src="D:\Typora_CACHE\image-20220526114331813.png" alt="image-20220526114331813" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526114341313.png" alt="image-20220526114341313" style="zoom:67%;" /></p><h3 id='3alter-table'><span>3.ALTER TABLE</span></h3><p><img src="D:\Typora_CACHE\image-20220526113913515.png" alt="image-20220526113913515" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526113929350.png" alt="image-20220526113929350" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526114520994.png" alt="image-20220526114520994" style="zoom:67%;" /></p><h3 id='4drop-table'><span>4.DROP TABLE</span></h3><p><img src="D:\Typora_CACHE\image-20220526114110116.png" alt="image-20220526114110116" style="zoom:67%;" /></p><h3 id='5index'><span>5.INDEX</span></h3><p><img src="D:\Typora_CACHE\image-20220526114134599.png" alt="image-20220526114134599" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526114156663.png" alt="image-20220526114156663" style="zoom:67%;" /></p><p><span>eg.</span></p><p><img src="D:\Typora_CACHE\image-20220526114242533.png" alt="image-20220526114242533" style="zoom:67%;" /></p><h3 id='6drop-index'><span>6.DROP INDEX</span></h3><p><img src="D:\Typora_CACHE\image-20220526115820324.png" alt="image-20220526115820324" style="zoom:67%;" /></p><h2 id='3数据查询语句-query'><span>3.数据查询语句 QUERY</span></h2><h3 id='1select'><span>1.SELECT</span></h3><p><img src="D:\Typora_CACHE\image-20220526120657735.png" alt="image-20220526120657735" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526120707075.png" alt="image-20220526120707075" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526120722228.png" alt="image-20220526120722228" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214245533.png" alt="image-20220526214245533" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214256154.png" alt="image-20220526214256154" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214320079.png" alt="image-20220526214320079" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214335028.png" alt="image-20220526214335028" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214425888.png" alt="image-20220526214425888" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214439610.png" alt="image-20220526214439610" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214455403.png" alt="image-20220526214455403" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214506166.png" alt="image-20220526214506166" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214552388.png" alt="image-20220526214552388" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214602456.png" alt="image-20220526214602456" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214623253.png" alt="image-20220526214623253" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214643787.png" alt="image-20220526214643787" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214705111.png" alt="image-20220526214705111" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526214918353.png" referrerpolicy="no-referrer" alt="image-20220526214918353"></p><p><img src="D:\Typora_CACHE\image-20220526215001084.png" alt="image-20220526215001084" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215033716.png" alt="image-20220526215033716" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215136058.png" alt="image-20220526215136058" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215238687.png" alt="image-20220526215238687" style="zoom: 67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215443660.png" alt="image-20220526215443660" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215716247.png" alt="image-20220526215716247" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215750270.png" alt="image-20220526215750270" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215806518.png" alt="image-20220526215806518" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215841339.png" alt="image-20220526215841339" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526215920558.png" alt="image-20220526215920558" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526220029679.png" alt="image-20220526220029679" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526220052791.png" alt="image-20220526220052791" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526222016008.png" alt="image-20220526222016008" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526222031767.png" alt="image-20220526222031767" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526222437550.png" alt="image-20220526222437550" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526222447375.png" alt="image-20220526222447375" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526222527872.png" alt="image-20220526222527872" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526222542715.png" alt="image-20220526222542715" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526222616576.png" alt="image-20220526222616576" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230609881.png" alt="image-20220526230609881" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230624222.png" alt="image-20220526230624222" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230638600.png" alt="image-20220526230638600" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230649411.png" alt="image-20220526230649411" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230708397.png" alt="image-20220526230708397" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230720390.png" alt="image-20220526230720390" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230733875.png" alt="image-20220526230733875" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230752795.png" alt="image-20220526230752795" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220526230808649.png" alt="image-20220526230808649" style="zoom:67%;" /></p><h2 id='4数据操作语句dml'><span>4.数据操作语句DML</span></h2><h3 id='1insert'><span>1.INSERT</span></h3><p><img src="D:\Typora_CACHE\image-20220617210931028.png" alt="image-20220617210931028" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617210953952.png" alt="image-20220617210953952" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617211219187.png" alt="image-20220617211219187" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617211435641.png" alt="image-20220617211435641" style="zoom:67%;" /></p><p>&nbsp;</p><h3 id='2update'><span>2.UPDATE</span></h3><p><img src="D:\Typora_CACHE\image-20220617211637788.png" alt="image-20220617211637788" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617211713045.png" alt="image-20220617211713045" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617211810750.png" alt="image-20220617211810750" style="zoom:67%;" /></p><h3 id='3delete'><span>3.DELETE</span></h3><p><img src="D:\Typora_CACHE\image-20220617211831766.png" alt="image-20220617211831766" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617211845749.png" alt="image-20220617211845749" style="zoom:67%;" /></p><h2 id='5视图'><span>5.视图</span></h2><p><img src="D:\Typora_CACHE\image-20220617211939350.png" alt="image-20220617211939350" style="zoom:67%;" /></p><h3 id='1create-view'><span>1.CREATE VIEW</span></h3><p><img src="D:\Typora_CACHE\image-20220617211950186.png" alt="image-20220617211950186" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617212010486.png" alt="image-20220617212010486" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617212025051.png" alt="image-20220617212025051" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617212053304.png" alt="image-20220617212053304" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617212113822.png" alt="image-20220617212113822" style="zoom:67%;" /></p><h3 id='2drop-view'><span>2.DROP VIEW</span></h3><p><img src="D:\Typora_CACHE\image-20220617212313716.png" alt="image-20220617212313716" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617212333393.png" alt="image-20220617212333393" style="zoom:67%;" /></p><p><span>CASCADE 级联删除，RESTRICT 若有外键，则拒绝删除</span></p><h3 id='3视图分解view-resolution'><span>3.视图分解View Resolution</span></h3><h4 id='1视图分解'><span>1.视图分解</span></h4><p><span>视图上的任何操作都自动转换为派生关系的操作。</span></p><p><img src="D:\Typora_CACHE\image-20220617213023562.png" alt="image-20220617213023562" style="zoom:67%;" /></p><h4 id='2视图的限制'><span>2.视图的限制</span></h4><p><img src="D:\Typora_CACHE\image-20220617220359671.png" alt="image-20220617220359671" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617220414515.png" alt="image-20220617220414515" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617220433265.png" alt="image-20220617220433265" style="zoom:67%;" /></p><h4 id='3视图的可更新性'><span>3.视图的可更新性</span></h4><p><img src="D:\Typora_CACHE\image-20220617220755524.png" alt="image-20220617220755524" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617220815198.png" alt="image-20220617220815198" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617220845877.png" alt="image-20220617220845877" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617220911826.png" alt="image-20220617220911826" style="zoom:67%;" /></p><p><span>为了使视图可更新，</span><strong><span>ＤＢＭＳ</span></strong><span>必须具有以下能力： 对于任何一个行或列都能追溯到其源表中相应的 行或列。</span></p><h4 id='4with-check-option'><span>4.With Check Option</span></h4><p><img src="D:\Typora_CACHE\image-20220617224955993.png" alt="image-20220617224955993" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617225118573.png" alt="image-20220617225118573" style="zoom:67%;" /></p><p><span>WITH CHECK OPTION has no affect on Source Table.</span></p><h2 id='6编程sql'><span>6.编程SQL</span></h2><p><img src="D:\Typora_CACHE\image-20220617225146677.png" alt="image-20220617225146677" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617225206476.png" alt="image-20220617225206476" style="zoom:67%;" /></p><h3 id='1psmpersistent-stored-modules）'><span>1.PSM（persistent stored modules）</span></h3><p><img src="D:\Typora_CACHE\image-20220617231434304.png" alt="image-20220617231434304" style="zoom:80%;" /></p><p><span>Stored procedures和trigger应该不考吧</span></p><h3 id='2embedded-sql'><span>2.Embedded SQL</span></h3><p><img src="D:\Typora_CACHE\image-20220617231528820.png" alt="image-20220617231528820" style="zoom:67%;" /></p><h3 id='3api'><span>3.API</span></h3><p><img src="D:\Typora_CACHE\image-20220617231638821.png" alt="image-20220617231638821" style="zoom: 67%;" /></p><h1 id='4关系数据理论'><span>4.关系数据理论</span></h1><h2 id='1问题problems'><span>1.问题Problems</span></h2><h3 id='1数据冗余data-redundancy'><span>1.数据冗余Data Redundancy</span></h3><p><img src="D:\Typora_CACHE\image-20220617232113869.png" alt="image-20220617232113869" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617232124097.png" alt="image-20220617232124097" style="zoom:67%;" /></p><h3 id='2更新异常update-anomalies'><span>2.更新异常Update Anomalies</span></h3><p><img src="D:\Typora_CACHE\image-20220617232156099.png" alt="image-20220617232156099" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220617232254639.png" alt="image-20220617232254639" style="zoom:67%;" /></p><p>&nbsp;</p><h2 id='2函数依赖functional-dependency'><span>2.函数依赖Functional Dependency</span></h2><p><img src="D:\Typora_CACHE\image-20220619100537385.png" alt="image-20220619100537385" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619100648762.png" alt="image-20220619100648762" style="zoom:67%;" /></p><p><strong><span>如何确定候选键</span></strong></p><p><strong><span>给出依赖集</span></strong>
<span>不出现在依赖中，不在箭头右侧，唯一确定单独的元组</span></p><p><img src="D:\Typora_CACHE\image-20220619100714494.png" alt="image-20220619100714494" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619100723118.png" alt="image-20220619100723118" style="zoom:67%;" /></p><p><strong><span>未给出依赖集</span></strong>
<span>若所有元组都是候选键，那么叫做FULL KEY</span></p><p><img src="D:\Typora_CACHE\image-20220619101245039.png" alt="image-20220619101245039" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619101431575.png" alt="image-20220619101431575" style="zoom:67%;" /></p><h2 id='3armstrongs-axioms'><span>3.Armstrong‘s axioms</span></h2><p><span>三条推理规则：</span></p><ol start='' ><li><span>自反。自身可以确定自身，集合本身就具有不重复性，平凡函数，自己顶自己。</span></li><li><span>增广。用Z将原来的函数特殊化，左右同时增加属性依然成立。XZ推YZ可能是完全依赖XZ也可以推出Y，但是这就是部分依赖了。</span></li><li><span>传递。不区分XY是否单向，所以最后可能是一一对应，也可能是多对一</span>
<img src="D:\Typora_CACHE\image-20220619101701348.png" alt="image-20220619101701348" style="zoom:67%;" /></li></ol><p><span>三条推论：</span></p><ol start='' ><li><p><span>合成规则。可以将同一条件得出的两个结论合并。</span></p></li><li><p><span>分解规则。可以将一个结论分解成多个结论。</span></p></li><li><p><span>伪传递规则。</span></p><p><img src="D:\Typora_CACHE\image-20220619101712492.png" alt="image-20220619101712492" style="zoom:67%;" /></p></li></ol><p><strong><span>闭包</span></strong></p><p><span>在关系模式R  中为F 所逻辑蕴含的函 数依赖的全体叫作F 的闭包（closure），记 为F +</span></p><p><span>具体算法如下：</span></p><ol start='' ><li><span>用自己作为初值（自反）之后迭代</span></li><li><span>每一次迭代，用当前拥有的条件推结果，将结果中新的部分加入条件集</span></li><li><span>直到不再产生新的结果</span></li></ol><p><img src="D:\Typora_CACHE\image-20220619103105202.png" alt="image-20220619103105202" style="zoom:67%;" /></p><p><strong><span>最小依赖集</span></strong></p><p><span>怎么算就要从最小依赖集特性入手：</span></p><ol start='' ><li><span>右边都是单属性</span></li><li><span>没有多余的函数依赖。如果一个函数依赖可以被剩余部分导出，说明多余。</span></li><li><span>左边没有多余属性。</span></li><li><span>拆分单属性。</span></li><li><span>去掉多余依赖。逐个去掉，用属性闭包测试是否可以用X推出Y，如果能导出，就多余，注意，如果去掉了，就直接去掉就OK，因为总是等价的，后面可以用新的集合判断。这也就能解释为什么最小依赖不唯一，因为你去掉的顺序不一样。</span>
<span>3 缩减部分依赖。看看将某个属性缩减后，缩减后依赖是否属于集合。比如将AB变成A或者B，看看能否导出结果，能导出就说明可以缩减，只需要一部分就可以导出结果。</span></li></ol><p><img src="D:\Typora_CACHE\image-20220619103601349.png" alt="image-20220619103601349" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619103636942.png" alt="image-20220619103636942" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619104035944.png" alt="image-20220619104035944" style="zoom:67%;" /></p><p><strong><span>函数依赖集的等价性</span></strong></p><p><img src="D:\Typora_CACHE\image-20220619111520993.png" alt="image-20220619111520993" style="zoom: 67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619111602540.png" alt="image-20220619111602540" style="zoom:67%;" /></p><p>&nbsp;</p><p>&nbsp;</p><h2 id='4规范化过程the-process-of-normalization'><span>4.规范化过程The Process of Normalization</span></h2><h3 id='1范式的定义'><span>1.范式的定义</span></h3><p><img src="D:\Typora_CACHE\image-20220619112534605.png" alt="image-20220619112534605" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619112557230.png" alt="image-20220619112557230" style="zoom:67%;" /></p><h3 id='2规范化定义'><span>2.规范化定义</span></h3><p><img src="D:\Typora_CACHE\image-20220619112732271.png" alt="image-20220619112732271" style="zoom:67%;" /></p><h3 id='3模式分解的标准'><span>3.模式分解的标准</span></h3><p><span>规范化就是模式分解的过程，模式分解就是将列拆分，重构成为两个新关系。最终目的是</span><strong><span>减少数据冗余</span></strong><span>以及提高性能。</span></p><p><span>模式分解有两个指标：</span></p><ol start='' ><li><p><strong><span>无损连接分解</span></strong><span>。分解后的表进行自然连接，结果和原表一样。</span>
<img src="D:\Typora_CACHE\image-20220619114256634.png" alt="image-20220619114256634" style="zoom:67%;" /></p><p>&nbsp;</p><p><img src="D:\Typora_CACHE\image-20220619155345848.png" alt="image-20220619155345848" style="zoom:150%;" />
<img src="D:\Typora_CACHE\image-20220619155427940.png" alt="image-20220619155427940" style="zoom:67%;" /></p><p><a href='https://www.bilibili.com/video/BV1jV411Y7Cx' target='_blank' class='url'>https://www.bilibili.com/video/BV1jV411Y7Cx</a><span>步骤讲解</span>
<span>画表循环判断</span>
<img src="D:\Typora_CACHE\image-20220619121452006.png" referrerpolicy="no-referrer" alt="image-20220619121452006"></p></li><li><p><strong><span>保持函数依赖</span></strong><span>。判断标准用函数依赖集等价判断，但是这个并不一定能保证，实际中有的函数依赖没意义也不需要保持。有的则需要保持来减轻异常。</span></p></li></ol><h3 id='4unf1nf2nf'><span>4.UNF&amp;1NF&amp;2NF</span></h3><ol start='' ><li><span>1NF。特征是属性不可分割。这是基本要求</span></li><li><span>2NF。特征是候选键到非主属性没有冗余属性。做法是将候选键到非主属性的部分函数依赖全部变成完全函数依赖。</span></li></ol><p><img src="D:\Typora_CACHE\image-20220619124303204.png" referrerpolicy="no-referrer" alt="image-20220619124303204"></p><h3 id='53nfbcnf'><span>5.3NF&amp;BCNF</span></h3><ol start='' ><li><span>3NF。特征是不存在因为传递引起的冗余。做法是将传递函数依赖都去掉。</span></li><li><span>BCNF。特征是候选键内部一一对应，所有依赖都可以用候选键作为起点。做法是将候选键内部的部分依赖去掉。BCNF是函数依赖范畴内的最优结果。</span></li></ol><h1 id='5数据库设计'><span>5.数据库设计</span></h1><h2 id='1数据库研发生命周期'><span>1.数据库研发生命周期</span></h2><p><img src="D:\Typora_CACHE\image-20220619130652920.png" alt="image-20220619130652920" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619130719454.png" alt="image-20220619130719454" style="zoom:67%;" /></p><p>&nbsp;</p><h2 id='2er模型'><span>2.ER模型</span></h2><p><img src="D:\Typora_CACHE\image-20220619130736926.png" alt="image-20220619130736926" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619130757769.png" alt="image-20220619130757769" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619130821428.png" alt="image-20220619130821428" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619130947928.png" alt="image-20220619130947928" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619131011891.png" alt="image-20220619131011891" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619131021312.png" alt="image-20220619131021312" style="zoom:67%;" /></p><h2 id='3加强er模型'><span>3.加强ER模型</span></h2><p><img src="D:\Typora_CACHE\image-20220619131136247.png" alt="image-20220619131136247" style="zoom:67%;" /></p><p>&nbsp;</p><h2 id='4er模型到关系模型的规范'><span>4.ER模型到关系模型的规范</span></h2><p><img src="D:\Typora_CACHE\image-20220619131242991.png" alt="image-20220619131242991" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619131348777.png" alt="image-20220619131348777" style="zoom:67%;" /></p><h1 id='6数据库安全'><span>6.数据库安全</span></h1><h2 id='1概念'><span>1.概念</span></h2><p><img src="D:\Typora_CACHE\image-20220619131509355.png" alt="image-20220619131509355" style="zoom:67%;" /></p><h2 id='2权限'><span>2.权限</span></h2><p><img src="D:\Typora_CACHE\image-20220619131517390.png" alt="image-20220619131517390" style="zoom:67%;" /></p><h2 id='3赋予权限'><span>3.赋予权限</span></h2><p><img src="D:\Typora_CACHE\image-20220619131533081.png" alt="image-20220619131533081" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619131549352.png" alt="image-20220619131549352" style="zoom:67%;" /></p><h2 id='4收回权限'><span>4.收回权限</span></h2><p><img src="D:\Typora_CACHE\image-20220619131604236.png" alt="image-20220619131604236" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619131615275.png" alt="image-20220619131615275" style="zoom:67%;" /></p><h1 id='7并发控制'><span>7.并发控制</span></h1><h2 id='1传输的概念和特征'><span>1.传输的概念和特征</span></h2><p><img src="D:\Typora_CACHE\image-20220619131825297.png" alt="image-20220619131825297" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619131849216.png" alt="image-20220619131849216" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619131912908.png" alt="image-20220619131912908" style="zoom:67%;" /></p><h2 id='2由并发引发的三个潜在问题'><span>2.由并发引发的三个潜在问题</span></h2><p><strong><span>丢失更新</span></strong><img src="D:\Typora_CACHE\image-20220619131951598.png" alt="image-20220619131951598" style="zoom:67%;" /></p><p><strong><span>读脏数据</span></strong><img src="D:\Typora_CACHE\image-20220619132015902.png" alt="image-20220619132015902" style="zoom:67%;" /></p><p><strong><span>不一致分析问题</span></strong><img src="D:\Typora_CACHE\image-20220619132054517.png" alt="image-20220619132054517" style="zoom:67%;" /></p><h2 id='3可串行化'><span>3.可串行化</span></h2><p><img src="D:\Typora_CACHE\image-20220619132110001.png" alt="image-20220619132110001" style="zoom:67%;" /></p><p>&nbsp;</p><h2 id='4二阶段封锁'><span>4.二阶段封锁</span></h2><p><img src="D:\Typora_CACHE\image-20220619132134237.png" alt="image-20220619132134237" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132148410.png" alt="image-20220619132148410" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132206157.png" alt="image-20220619132206157" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132324675.png" alt="image-20220619132324675" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132410285.png" alt="image-20220619132410285" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132427049.png" alt="image-20220619132427049" style="zoom:67%;" /></p><p><span>&lt;img src=&quot;D:\Typora_CACHE\image-20220619132435048.png&quot; alt=&quot;image-20220619132435048&quot; style=&quot;zoom:67%;&quot; /</span></p><p>&nbsp;</p><h2 id='5隔离等级'><span>5.隔离等级</span></h2><p><span>从粗到细</span></p><p><img src="D:\Typora_CACHE\image-20220619132458852.png" alt="image-20220619132458852" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132524348.png" alt="image-20220619132524348" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132558346.png" alt="image-20220619132558346" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132611931.png" alt="image-20220619132611931" style="zoom:67%;" /></p><h1 id='8数据库恢复'><span>8.数据库恢复</span></h1><h2 id='1失败'><span>1.失败</span></h2><p><img src="D:\Typora_CACHE\image-20220619132721305.png" alt="image-20220619132721305" style="zoom:67%;" /></p><h2 id='2会话与恢复'><span>2.会话与恢复</span></h2><p><img src="D:\Typora_CACHE\image-20220619132738076.png" alt="image-20220619132738076" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132746793.png" alt="image-20220619132746793" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132757940.png" alt="image-20220619132757940" style="zoom:67%;" /></p><h2 id='3恢复机制'><span>3.恢复机制</span></h2><p><img src="D:\Typora_CACHE\image-20220619132807265.png" alt="image-20220619132807265" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132827228.png" alt="image-20220619132827228" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132842155.png" alt="image-20220619132842155" style="zoom:67%;" /></p><h2 id='4恢复技术'><span>4.恢复技术</span></h2><p><img src="D:\Typora_CACHE\image-20220619132900491.png" alt="image-20220619132900491" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132912070.png" alt="image-20220619132912070" style="zoom:67%;" /></p><p><img src="D:\Typora_CACHE\image-20220619132922794.png" alt="image-20220619132922794" style="zoom:67%;" /></p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="mysql" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="mysql"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.51562px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">create</span> <span class="cm-keyword">trigger</span> insert_tri</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">after</span> <span class="cm-keyword">insert</span> <span class="cm-keyword">on</span> SC</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">for</span> <span class="cm-keyword">each</span> <span class="cm-keyword">row</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">update</span> S <span class="cm-keyword">set</span> Total_credit <span class="cm-operator">=</span> Total_credit <span class="cm-operator">+</span> NEW<span class="cm-variable-2">.grade</span><span class="cm-punctuation">;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Modify table S add a constraint to restrict that male’s age must be less than 23 or female’s age must be less than 21.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">alter</span> <span class="cm-keyword">table</span> S <span class="cm-keyword">add</span> <span class="cm-keyword">constraint</span> check_age <span class="cm-keyword">check</span><span class="cm-bracket">((</span>age <span class="cm-operator">&lt;</span> <span class="cm-number">23</span> <span class="cm-keyword">and</span> sex <span class="cm-operator">=</span> <span class="cm-string">'male'</span><span class="cm-bracket">)</span> <span class="cm-keyword">or</span> <span class="cm-bracket">(</span>age <span class="cm-operator">&lt;</span> <span class="cm-number">21</span> <span class="cm-keyword">and</span> sex <span class="cm-operator">=</span> <span class="cm-string">'female'</span><span class="cm-bracket">))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Delete the tuples of all female students whose grades of Database course are less than 60 from Table SC</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">delete</span> <span class="cm-keyword">from</span> SC <span class="cm-keyword">where</span> sno</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">in</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> sno <span class="cm-keyword">from</span> S<span class="cm-punctuation">,</span>SC<span class="cm-punctuation">,</span>C <span class="cm-keyword">where</span> S<span class="cm-variable-2">.sno</span> <span class="cm-operator">=</span> SC<span class="cm-variable-2">.sno</span> <span class="cm-keyword">and</span> SC<span class="cm-variable-2">.cno</span> <span class="cm-operator">=</span> C<span class="cm-variable-2">.cno</span> <span class="cm-keyword">and</span> sex <span class="cm-operator">=</span> <span class="cm-string">'female'</span> <span class="cm-keyword">and</span> grade <span class="cm-operator">&lt;</span> <span class="cm-number">60</span> <span class="cm-keyword">and</span> course <span class="cm-operator">=</span> <span class="cm-string">'database'</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># πSname(S (πsno,cno(SC)÷πcno(C)))</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Please write the equivalent SQL statement for the above relational algebra expression to implement the same function.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> Sname <span class="cm-keyword">from</span> S </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">natural</span> <span class="cm-keyword">join</span> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-bracket">(</span><span class="cm-keyword">select</span> sno <span class="cm-keyword">from</span> SC<span class="cm-punctuation">,</span>C <span class="cm-keyword">where</span> SC<span class="cm-variable-2">.cno</span> <span class="cm-operator">=</span> C<span class="cm-variable-2">.cno</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#Search for all tuples in table sc whose grades are more than the average grade of the same course.</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">select</span> <span class="cm-operator">*</span> <span class="cm-keyword">from</span> SC SC1</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">where</span> grade <span class="cm-operator">&gt;</span> <span class="cm-bracket">(</span><span class="cm-keyword">select</span> <span class="cm-keyword">avg</span><span class="cm-bracket">(</span>grade<span class="cm-bracket">)</span> <span class="cm-keyword">from</span> SC SC2</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">WHERE</span> SC2<span class="cm-variable-2">.CNO</span> <span class="cm-operator">=</span> SC1<span class="cm-variable-2">.CNO</span><span class="cm-bracket">)</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 737px;"></div><div class="CodeMirror-gutters" style="display: none; height: 737px;"></div></div></div></pre><p>&nbsp;</p></div></div>
</body>
</html>